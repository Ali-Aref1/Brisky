<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="joe.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brisky</title>
    <script src="SignUp.js"></script>


</head>
<body>
    <!--Top bar(Don't edit!!)-->
    
<div class="topbar">
    <button id="acctBtn" class="pagebutton">
      <p>Account</p>
    </button>
    <button onclick="location.href='Branch'" class="pagebutton">
      <p>Orders</p>
    </button>
    <a href="/"><img src="assets/logo.png" width="150" /></a>
    <button id="loginBtn" class="pagebutton">
      <p>Login</p>
    </button>
    <button onclick="location.href='SignUp'" class="pagebutton">
      <p>Sign Up</p>
    </button>
  </div>
    <!--End Top bar-->
    <div class="signup-box">
        <h2>Sign Up</h2>
        <form action = "/SignUpUser">
            <input type="text" placeholder="First Name" name="first_name" required pattern="[A-Z][a-z]*">
          
            <input type="text" placeholder="Last Name" name="last_name" required pattern="[A-Z][a-z]*">

            <input type="email" id="email" name="email" required pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" placeholder="E-mail">
            <input type="password" placeholder="Password" name="password" id="password" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">

            <input type="password" placeholder="Confirm Password" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">
        
            
            <div class="phone-number-wrapper">
              <span class="country-code">+20</span>
              <input type="tel" placeholder="Phone Number" name="phone_number" pattern="[0-9]{10}" required>
            </div>
        
            <div class="date-wrapper">
           Date of Birth:
           <input type="date" id="dob" name="date_of_birth" required>
           </div>
           
           <button type="submit">Sign Up</button>
        </form>

        
        <script>
            var userID = sessionStorage.getItem("USER_ID");
                    if (userID == null) {
                      document
                        .getElementById("acctBtn")
                        .addEventListener("click", function () {
                          location.href = "Login";
                        });
                      document.getElementById("loginBtn").innerHTML = "<p>Login</p>";
                      document
                        .getElementById("loginBtn")
                        .addEventListener("click", function () {
                          location.href = "Login";
                        });
                    } else {
                      document
                        .getElementById("acctBtn")
                        .addEventListener("click", function () {
                          location.href = "account";
                        });
                      document.getElementById("loginBtn").innerHTML = "<p>Log Out</p>";
                      
                      document
                        .getElementById("loginBtn")
                        .addEventListener("click", function () {
                          sessionStorage.removeItem("USER_ID");
                          window.alert("Logged out successfully!");
                          location.href = "/";
                        });
                    }
            </script>
    </body>
    
</html>
