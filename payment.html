<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Grocery Store - Checkout</title>
    <link rel="stylesheet" href="styleee.css" />
  </head>
  <body>
    <div class="iframe-container">
      <iframe
        src="index.html"
        width="100%"
        height="200"
        frameborder="0"
      ></iframe>
    </div>
    <header>
      <h1>Green is Brisky</h1>
    </header>

    <main>
      <h2>Proceed to Checkout</h2>

      <p>paragraph to write the whole amount and so on ðŸ‘Œ</p>

      <form onsubmit="return validateForm()">
        <label for="paymentMethod">Select Payment Method:</label>
        <select id="paymentMethod" name="paymentMethod">
          <option value="cash">Cash</option>
          <option value="creditCard">Credit Card</option>
          <option value="debitCard">Debit Card</option>
        </select>

        <div id="creditCardDetails" style="display: none">
          <label for="creditCardNumber">Credit Card Number:</label>
          <input type="text" id="creditCardNumber" name="creditCardNumber" />

          <label for="expirationDateC">Expiration Date:</label>
          <input type="text" id="expirationDateC" name="expirationDateC" />
        </div>

        <div id="depitCardDetails" style="display: none">
          <label for="depitCardNumber">Debit Card Number:</label>
          <input type="text" id="depitCardNumber" name="depitCardNumber" />

          <label for="expirationDateD">Expiration Date:</label>
          <input type="text" id="expirationDateD" name="expirationDateD" />
        </div>

        <label for="address">Delivery Address:</label>

        <label for="addressLine1">Address Line 1:</label>
        <textarea id="addressLine1" name="addressLine1" required></textarea>

        <label for="addressLine2">Address Line 2:</label>
        <textarea id="addressLine2" name="addressLine2"></textarea>

        <label for="zipCode">ZIP Code:</label>
        <input
          type="text"
          id="zipCode"
          name="zipCode"
          class="address"
          required
        />

        <label for="city">City:</label>
        <input type="text" id="city" name="city" class="address" required />

        <div class="delivery-options">
          <label for="deliveryOption">Select Delivery Option:</label>
          <br />
          <br />

          <label for="normalDelivery">Normal Delivery</label>
          <input
            type="radio"
            id="normalDelivery"
            name="deliveryOption"
            value="normal"
            checked
          />
          <label for="premiumDelivery">Premium Delivery (extra cost)</label>

          <input
            type="radio"
            id="premiumDelivery"
            name="deliveryOption"
            value="premium"
          />
        </div>

        <br />
      </form>
      <button type="button" onclick="BUY()">Checkout</button>
    </main>

    <script>
      function BUY() {
        if (!validateForm()) {
          return; // Exit if validation fails
        }
        // Get selected payment method
        const paymentMethod = document.getElementById("paymentMethod").value;

        // Get credit card details (if applicable)
        const creditCardNumber =
          document.getElementById("creditCardNumber").value;
        const expirationDateC =
          document.getElementById("expirationDateC").value;
        const depitCardNumber =
          document.getElementById("depitCardNumber").value;
        const expirationDateD =
          document.getElementById("expirationDateD").value;

        // Get delivery information
        const address = document.getElementById("addressLine1").value;
        const deliveryOption = document.querySelector(
          'input[name="deliveryOption"]:checked'
        ).value;

        console.log("Payment Method:", paymentMethod);
        if (paymentMethod === "creditCard") {
          console.log("Credit Card Number:", creditCardNumber);
          console.log("Expiration Date:", expirationDateC);
        } else if (paymentMethod === "debitCard") {
          console.log("Debit Card Number:", depitCardNumber);
          console.log("Expiration Date:", expirationDateD);
        }
        console.log("Delivery Address:", address);
        console.log("Delivery Option:", deliveryOption);

        const form = document.querySelector("form");
        form.submit();
        // For demonstration purposes, open a new page
        window.open("confirmation.html", "_blank");
      }

      function validateForm() {
        const paymentMethod = document.getElementById("paymentMethod").value;

        if (paymentMethod === "") {
          alert("Please select a payment method");
          return false;
        }

        if (paymentMethod === "creditCard") {
          const creditCardNumber =
            document.getElementById("creditCardNumber").value;
          const expirationDateC =
            document.getElementById("expirationDateC").value;

          if (!creditCardNumber || !expirationDateC) {
            alert("Please enter valid credit card details");
            return false;
          }
        }

        if (paymentMethod === "debitCard") {
          const depitCardNumber =
            document.getElementById("depitCardNumber").value;
          const expirationDateD =
            document.getElementById("expirationDateD").value;

          if (!depitCardNumber || !expirationDateD) {
            alert("Please enter valid debit card details");
            return false;
          }
        }

        const addressLine1 = document.getElementById("addressLine1").value;
        const zipCode = document.getElementById("zipCode").value;
        const city = document.getElementById("city").value;

        if (!addressLine1 || !zipCode || !city) {
          alert("Please fill in all required address fields");
          return false;
        }

        return true; // Submit the form if all validations pass
      }

      // Show/hide credit card details based on the selected payment method
      document
        .getElementById("paymentMethod")
        .addEventListener("change", function () {
          const creditCardDetails =
            document.getElementById("creditCardDetails");
          const depitCardDetails = document.getElementById("depitCardDetails");

          if (this.value === "creditCard") {
            creditCardDetails.style.display = "block";
            depitCardDetails.style.display = "none";
          } else if (this.value === "debitCard") {
            creditCardDetails.style.display = "none";
            depitCardDetails.style.display = "block";
          } else {
            creditCardDetails.style.display = "none";
            depitCardDetails.style.display = "none";
          }
        });
    </script>
  </body>
</html>
